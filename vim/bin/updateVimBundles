#!/usr/bin/env zsh

which curl >/dev/null || {
  echo "curl not found in path..."
  exit 1
}
which git >/dev/null || {
  echo "git not found in path..."
  exit 1
}

DOTFILES_DIR="$HOME/dotfiles"
PATHOGEN_DIR="$DOTFILES_DIR/vim/autoload"
BUNDLES_DIR="$DOTFILES_DIR/vim/bundle"

if [[ -d "${PATHOGEN_DIR}" ]]; then
  echo "Updating pathogen..."
  curl -LSso "$PATHOGEN_DIR/pathogen.vim" "https://tpo.pe/pathogen.vim"
  echo "Done updating pathogen."
fi

if [[ -d "${BUNDLES_DIR}" ]]; then
  echo "Updating bundles..."
  cd $DOTFILES_DIR;
  git submodule update --init --recursive;
  echo "Done updating bundles."
fi
