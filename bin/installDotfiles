#! /usr/bin/env python2.7

import os
import subprocess

HOME_DIR = os.getenv('HOME')
DOTFILES_DIR = os.getenv('DOTFILES_DIR')

# 1. CREATE SYMLINKS

def dest_fn(rel_fn):
    return os.path.join(HOME_DIR, '.' + rel_fn)

def src_fn(rel_fn):
    return os.path.join(DOTFILES_DIR, rel_fn)

DOTFILES = [
    'zshrc',
    'slate',
    'vim',
    'tmux.conf',
    'gitconfig',
    'pypirc',
    'git_template',
    'gitignore_global',
    'oh-my-zsh',
]

for dotf in DOTFILES:
    try:
        print src_fn(dotf), '->', dest_fn(dotf)
        os.symlink(src_fn(dotf), dest_fn(dotf))
        print 'Symlink complete!'
    except OSError as e:
        print str(e)
        pass

# 2. INSTALL VUNDLE AND PLUGINS
subprocess.call(
    ['git', 'clone',
     'https://github.com/VundleVim/Vundle.vim.git',
     '~/.vim/bundle/Vundle.vim']
)
subprocess.call(
    ['vim', '+PluginInstall', '+qall']
)
